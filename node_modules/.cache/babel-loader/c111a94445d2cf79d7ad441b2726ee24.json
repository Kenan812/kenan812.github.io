{"ast":null,"code":"import _objectSpread from\"C:/Users/kenan/OneDrive/Desktop/front-end.site/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/kenan/OneDrive/Desktop/front-end.site/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import Axios from'axios';import{Link,Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterForm(){var url=\"https://bsite.net/Kanan02/api/Auth/register\";var _useState=useState(false),_useState2=_slicedToArray(_useState,2),confirm=_useState2[0],setConfirm=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMes=_useState4[0],seterrorMes=_useState4[1];var _useState5=useState({userName:\"\",password:\"\",email:\"\"}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];function handle(e){var newdata=_objectSpread({},data);newdata[e.target.id]=e.target.value;setData(newdata);}function submit(e){e.preventDefault();Axios.post(url,{userName:data.userName,password:data.password,email:data.email}).then(function(res){var date=new Date();var expiresDate=new Date(date.setDate(date.getDate()+1));var expiresDateString=expiresDate.toUTCString();document.cookie=\"token=\".concat(res.data,\"; expires=\").concat(expiresDateString,\";\");setConfirm(true);}).catch(function(error){if(error.response!=null){setConfirm(false);seterrorMes(error.response.data);}return;});}if(confirm){return/*#__PURE__*/_jsx(Redirect,{to:\"/profile\"});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return submit(e);},className:\"sign-up-form\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"sign-up-ul list\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"label\",{className:\"sign-up-label\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Username\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",className:\"sign-up-textinput input\",id:\"userName\",onChange:function onChange(e){return handle(e);},value:data.userName})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"label\",{className:\"sign-up-label\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Email\"})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",className:\"sign-up-textinput input\",id:\"email\",onChange:function onChange(e){return handle(e);},value:data.email})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"label\",{className:\"sign-up-text1\",children:\"Password\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",id:\"password\",onChange:function onChange(e){return handle(e);},value:data.password,className:\"sign-up-textinput1 input\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-item\",children:/*#__PURE__*/_jsx(\"label\",{id:\"errorMessage\",className:\"sign-up-label\",children:errorMes})}),/*#__PURE__*/_jsx(\"li\",{className:\"sign-up-li2 list-item\"}),/*#__PURE__*/_jsx(\"li\",{className:\"sign-up-li3 list-item\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",style:{marginTop:'100px'},value:\"Sign Up\",className:\"sign-up-textinput2 input\"})]})});}","map":{"version":3,"names":["React","useState","useRef","useEffect","Axios","Link","Redirect","RegisterForm","url","confirm","setConfirm","errorMes","seterrorMes","userName","password","email","data","setData","handle","e","newdata","target","id","value","submit","preventDefault","post","then","res","date","Date","expiresDate","setDate","getDate","expiresDateString","toUTCString","document","cookie","catch","error","response","marginTop"],"sources":["C:/Users/kenan/OneDrive/Desktop/front-end.site/src/components/RegisterForm.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\r\nimport Axios from 'axios'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nexport default function RegisterForm() {\r\n  const url = \"https://bsite.net/Kanan02/api/Auth/register\";\r\n  const [confirm, setConfirm] = useState(false);\r\n  const [errorMes, seterrorMes] = useState(\"\");\r\n  const [data, setData] = useState({\r\n    userName: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n  })\r\n  function handle(e) {\r\n    const newdata = { ...data }\r\n    newdata[e.target.id] = e.target.value\r\n    setData(newdata)\r\n  }\r\n\r\n  function submit(e) {\r\n    e.preventDefault();\r\n    Axios.post(url, {\r\n      userName: data.userName,\r\n      password: data.password,\r\n      email: data.email\r\n    })\r\n      .then(res => {\r\n        var date = new Date();\r\n        var expiresDate = new Date(date.setDate(date.getDate() + 1));\r\n        var expiresDateString = expiresDate.toUTCString();\r\n        document.cookie = `token=${res.data}; expires=${expiresDateString};`;\r\n        setConfirm(true);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response != null) {\r\n          setConfirm(false);\r\n          seterrorMes(error.response.data);\r\n        }\r\n        return;\r\n      });\r\n\r\n\r\n  }\r\n  if (confirm) {\r\n    return <Redirect to=\"/profile\" />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={(e) => submit(e)} className=\"sign-up-form\">\r\n        <ul className=\"sign-up-ul list\">\r\n\r\n          <li className=\"list-item\">\r\n            <label className=\"sign-up-label\">\r\n              <span>Username</span>\r\n            </label>\r\n          </li>\r\n          <li className=\"list-item\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              className=\"sign-up-textinput input\" id='userName' onChange={(e) => handle(e)} value={data.userName}\r\n            />\r\n          </li>\r\n          <li className=\"list-item\">\r\n            <label className=\"sign-up-label\">\r\n              <span>Email</span>\r\n            </label>\r\n          </li>\r\n          <li className=\"list-item\">\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              className=\"sign-up-textinput input\" id='email' onChange={(e) => handle(e)} value={data.email}\r\n            />\r\n          </li>\r\n          <li className=\"list-item\">\r\n            <label className=\"sign-up-text1\">Password</label>\r\n          </li>\r\n          <li className=\"list-item\">\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\" id='password' onChange={(e) => handle(e)} value={data.password}\r\n              className=\"sign-up-textinput1 input\"\r\n            />\r\n          </li>\r\n\r\n          <li className=\"list-item\">\r\n            <label id='errorMessage' className=\"sign-up-label\">{errorMes}\r\n            </label>\r\n          </li>\r\n          <li className=\"sign-up-li2 list-item\"></li>\r\n          <li className=\"sign-up-li3 list-item\"></li>\r\n        </ul>\r\n        <input\r\n          type=\"submit\" style={{ marginTop: '100px' }}\r\n          value=\"Sign Up\"\r\n          className=\"sign-up-textinput2 input\"\r\n        />\r\n\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"uQAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,C,wFACA,cAAe,SAASC,aAAT,EAAwB,CACrC,GAAMC,IAAG,CAAG,6CAAZ,CACA,cAA8BP,QAAQ,CAAC,KAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAAgCT,QAAQ,CAAC,EAAD,CAAxC,yCAAOU,QAAP,eAAiBC,WAAjB,eACA,eAAwBX,QAAQ,CAAC,CAC/BY,QAAQ,CAAE,EADqB,CAE/BC,QAAQ,CAAE,EAFqB,CAG/BC,KAAK,CAAE,EAHwB,CAAD,CAAhC,yCAAOC,IAAP,eAAaC,OAAb,eAKA,QAASC,OAAT,CAAgBC,CAAhB,CAAmB,CACjB,GAAMC,QAAO,kBAAQJ,IAAR,CAAb,CACAI,OAAO,CAACD,CAAC,CAACE,MAAF,CAASC,EAAV,CAAP,CAAuBH,CAAC,CAACE,MAAF,CAASE,KAAhC,CACAN,OAAO,CAACG,OAAD,CAAP,CACD,CAED,QAASI,OAAT,CAAgBL,CAAhB,CAAmB,CACjBA,CAAC,CAACM,cAAF,GACArB,KAAK,CAACsB,IAAN,CAAWlB,GAAX,CAAgB,CACdK,QAAQ,CAAEG,IAAI,CAACH,QADD,CAEdC,QAAQ,CAAEE,IAAI,CAACF,QAFD,CAGdC,KAAK,CAAEC,IAAI,CAACD,KAHE,CAAhB,EAKGY,IALH,CAKQ,SAAAC,GAAG,CAAI,CACX,GAAIC,KAAI,CAAG,GAAIC,KAAJ,EAAX,CACA,GAAIC,YAAW,CAAG,GAAID,KAAJ,CAASD,IAAI,CAACG,OAAL,CAAaH,IAAI,CAACI,OAAL,GAAiB,CAA9B,CAAT,CAAlB,CACA,GAAIC,kBAAiB,CAAGH,WAAW,CAACI,WAAZ,EAAxB,CACAC,QAAQ,CAACC,MAAT,iBAA2BT,GAAG,CAACZ,IAA/B,sBAAgDkB,iBAAhD,MACAxB,UAAU,CAAC,IAAD,CAAV,CACD,CAXH,EAYG4B,KAZH,CAYS,SAACC,KAAD,CAAW,CAChB,GAAIA,KAAK,CAACC,QAAN,EAAkB,IAAtB,CAA4B,CAC1B9B,UAAU,CAAC,KAAD,CAAV,CACAE,WAAW,CAAC2B,KAAK,CAACC,QAAN,CAAexB,IAAhB,CAAX,CACD,CACD,OACD,CAlBH,EAqBD,CACD,GAAIP,OAAJ,CAAa,CACX,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CACD,CAED,mBACE,kCACE,cAAM,QAAQ,CAAE,kBAACU,CAAD,QAAOK,OAAM,CAACL,CAAD,CAAb,EAAhB,CAAkC,SAAS,CAAC,cAA5C,wBACE,YAAI,SAAS,CAAC,iBAAd,wBAEE,WAAI,SAAS,CAAC,WAAd,uBACE,cAAO,SAAS,CAAC,eAAjB,uBACE,kCADF,EADF,EAFF,cAOE,WAAI,SAAS,CAAC,WAAd,uBACE,cACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,SAAS,CAAC,yBAHZ,CAGsC,EAAE,CAAC,UAHzC,CAGoD,QAAQ,CAAE,kBAACA,CAAD,QAAOD,OAAM,CAACC,CAAD,CAAb,EAH9D,CAGgF,KAAK,CAAEH,IAAI,CAACH,QAH5F,EADF,EAPF,cAcE,WAAI,SAAS,CAAC,WAAd,uBACE,cAAO,SAAS,CAAC,eAAjB,uBACE,+BADF,EADF,EAdF,cAmBE,WAAI,SAAS,CAAC,WAAd,uBACE,cACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,OAFd,CAGE,SAAS,CAAC,yBAHZ,CAGsC,EAAE,CAAC,OAHzC,CAGiD,QAAQ,CAAE,kBAACM,CAAD,QAAOD,OAAM,CAACC,CAAD,CAAb,EAH3D,CAG6E,KAAK,CAAEH,IAAI,CAACD,KAHzF,EADF,EAnBF,cA0BE,WAAI,SAAS,CAAC,WAAd,uBACE,cAAO,SAAS,CAAC,eAAjB,sBADF,EA1BF,cA6BE,WAAI,SAAS,CAAC,WAAd,uBACE,cACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAEyB,EAAE,CAAC,UAF5B,CAEuC,QAAQ,CAAE,kBAACI,CAAD,QAAOD,OAAM,CAACC,CAAD,CAAb,EAFjD,CAEmE,KAAK,CAAEH,IAAI,CAACF,QAF/E,CAGE,SAAS,CAAC,0BAHZ,EADF,EA7BF,cAqCE,WAAI,SAAS,CAAC,WAAd,uBACE,cAAO,EAAE,CAAC,cAAV,CAAyB,SAAS,CAAC,eAAnC,UAAoDH,QAApD,EADF,EArCF,cAyCE,WAAI,SAAS,CAAC,uBAAd,EAzCF,cA0CE,WAAI,SAAS,CAAC,uBAAd,EA1CF,GADF,cA6CE,cACE,IAAI,CAAC,QADP,CACgB,KAAK,CAAE,CAAE8B,SAAS,CAAE,OAAb,CADvB,CAEE,KAAK,CAAC,SAFR,CAGE,SAAS,CAAC,0BAHZ,EA7CF,GADF,EADF,CAwDD"},"metadata":{},"sourceType":"module"}